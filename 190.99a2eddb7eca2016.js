"use strict";(self.webpackChunkcsharp_cash=self.webpackChunkcsharp_cash||[]).push([[190],{4190:(f,r,n)=>{n.r(r),n.d(r,{GraficoDonutApexComponent:()=>d});var c=n(177),l=n(4626),h=n(1740),t=n(4438),p=n(4090);const u=["chartCmp"];let d=(()=>{class i{constructor(a,e){this.ngZone=a,this.analytics=e,this.transacoes=[],this.topN=8,this.titulo="Gastos por Categoria",this.chart={type:"donut",height:260,toolbar:{show:!1}},this.series=[],this.labels=[],this.dataLabels={enabled:!1},this.legend={position:"bottom"},this.tooltip=h.R4,this.colors=h.W2,this.responsive=[{breakpoint:640,options:{chart:{height:220},legend:{position:"bottom"}}}],this.labelsPendentes=[],this.seriesPendentes=[]}ngOnChanges(){const a=this.analytics.gastosPorCategoria(this.transacoes,this.topN),e=a.map(o=>o.valor),s=a.map(o=>o.label);this.seriesPendentes=e,this.labelsPendentes=s,this.chartRef&&this.ngZone.runOutsideAngular(()=>{this.chartRef?.updateSeries(e,!0),this.chartRef?.updateOptions({labels:s,chart:{redrawOnParentResize:!0}},!0,!0)})}ngAfterViewInit(){const a=this.seriesPendentes,e=this.labelsPendentes;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.chartRef?.updateSeries(a,!0),this.chartRef?.updateOptions({labels:e,chart:{redrawOnParentResize:!0}},!0,!0)})})}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(t.SKi),t.rXU(p.v))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-grafico-donut-apex"]],viewQuery:function(e,s){if(1&e&&t.GBs(u,5),2&e){let o;t.mGM(o=t.lsd())&&(s.chartRef=o.first)}},inputs:{transacoes:"transacoes",topN:"topN",titulo:"titulo"},standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:9,consts:[["chartCmp",""],[1,"bg-slate-900/80","border","border-white/5","p-6","rounded-3xl","min-h-[320px]","sm:min-h-[360px]"],[1,"text-lg","font-bold","mb-4","text-white"],[3,"chart","series","labels","dataLabels","legend","tooltip","colors","responsive"]],template:function(e,s){1&e&&(t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.k0s(),t.nrm(3,"apx-chart",3,0),t.k0s()),2&e&&(t.R7$(2),t.JRh(s.titulo),t.R7$(),t.Y8G("chart",s.chart)("series",s.series)("labels",s.labels)("dataLabels",s.dataLabels)("legend",s.legend)("tooltip",s.tooltip)("colors",s.colors)("responsive",s.responsive))},dependencies:[c.MD,l.J,l.Q],encapsulation:2,changeDetection:0})}}return i})()}}]);