"use strict";(self.webpackChunkcsharp_cash=self.webpackChunkcsharp_cash||[]).push([[348],{1348:(g,l,o)=>{o.r(l),o.d(l,{GraficoSaldoAcumuladoApexComponent:()=>p});var d=o(177),h=o(4626),r=o(1740),t=o(4438),u=o(4090),f=o(2154);const m=["chartCmp"];let p=(()=>{class c{constructor(a,s,e){this.ngZone=a,this.analytics=s,this.config=e,this.transacoes=[],this.titulo="Saldo Acumulado no M\xeas",this.series=[],this.chart={type:"line",height:250,toolbar:{show:!1},animations:{enabled:!0}},this.xaxis={categories:[],tickAmount:6,labels:{rotate:-45}},this.yaxis={labels:{formatter:i=>Math.round(i).toString()}},this.stroke={curve:"smooth",width:3},this.tooltip=r.R4,this.grid=r._j,this.theme=r.d6,this.colors=[r.W2[1]],this.annotations={},this.responsive=[{breakpoint:640,options:{chart:{height:210},xaxis:{tickAmount:4},grid:{strokeDashArray:4}}}],this.categoriasPendentes=[],this.cumulPendentes=[]}ngOnChanges(){const a=this.analytics.saldoAcumuladoMensal(this.transacoes),s=a.map(n=>n.label),e=[];let i=0;for(const n of a)i+=n.valor,e.push(i);this.categoriasPendentes=s,this.cumulPendentes=e,this.chartRef&&this.ngZone.runOutsideAngular(()=>{this.chartRef?.updateSeries([{name:"Saldo",data:e}],!0);const n="number"==typeof this.valorReferencia?{yaxis:[{y:this.valorReferencia,borderColor:"#64748b",strokeDashArray:4,label:{text:"Renda"}}]}:this.config.config().rendaMensal?{yaxis:[{y:this.config.config().rendaMensal,borderColor:"#64748b",strokeDashArray:4,label:{text:"Renda"}}]}:{};this.chartRef?.updateOptions({xaxis:{...this.xaxis,categories:s},annotations:n,chart:{redrawOnParentResize:!0}},!0,!0)})}ngAfterViewInit(){const a=this.categoriasPendentes,s=this.cumulPendentes;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.chartRef?.updateSeries([{name:"Saldo",data:s}],!0);const e="number"==typeof this.valorReferencia?{yaxis:[{y:this.valorReferencia,borderColor:"#64748b",strokeDashArray:4,label:{text:"Renda"}}]}:this.config.config().rendaMensal?{yaxis:[{y:this.config.config().rendaMensal,borderColor:"#64748b",strokeDashArray:4,label:{text:"Renda"}}]}:{};this.chartRef?.updateOptions({xaxis:{...this.xaxis,categories:a},annotations:e,chart:{redrawOnParentResize:!0}},!0,!0)})})}static{this.\u0275fac=function(s){return new(s||c)(t.rXU(t.SKi),t.rXU(u.v),t.rXU(f.w))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-grafico-saldo-acumulado-apex"]],viewQuery:function(s,e){if(1&s&&t.GBs(m,5),2&s){let i;t.mGM(i=t.lsd())&&(e.chartRef=i.first)}},inputs:{transacoes:"transacoes",valorReferencia:"valorReferencia",titulo:"titulo"},standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:12,consts:[["chartCmp",""],[1,"bg-slate-900/80","border","border-white/5","p-6","rounded-3xl","min-h-[320px]","sm:min-h-[360px]"],[1,"text-lg","font-bold","mb-1","text-white"],[1,"text-[11px]","text-slate-500","mb-3"],[3,"series","chart","xaxis","yaxis","stroke","tooltip","grid","theme","annotations","colors","responsive"]],template:function(s,e){1&s&&(t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.k0s(),t.j41(3,"p",3),t.EFF(4,"Linha pontilhada indica renda mensal"),t.k0s(),t.nrm(5,"apx-chart",4,0),t.k0s()),2&s&&(t.R7$(2),t.JRh(e.titulo),t.R7$(3),t.Y8G("series",e.series)("chart",e.chart)("xaxis",e.xaxis)("yaxis",e.yaxis)("stroke",e.stroke)("tooltip",e.tooltip)("grid",e.grid)("theme",e.theme)("annotations",e.annotations)("colors",e.colors)("responsive",e.responsive))},dependencies:[d.MD,h.J,h.Q],encapsulation:2,changeDetection:0})}}return c})()}}]);