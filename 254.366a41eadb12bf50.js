"use strict";(self.webpackChunkcsharp_cash=self.webpackChunkcsharp_cash||[]).push([[254],{1254:(g,l,i)=>{i.r(l),i.d(l,{GraficoFluxoDiarioApexComponent:()=>p});var c=i(177),h=i(4626),r=i(1740),t=i(4438),d=i(4090);const u=["chartCmp"];let p=(()=>{class n{constructor(a,e){this.ngZone=a,this.analytics=e,this.transacoes=[],this.filtroTodoPeriodo=!1,this.anoMes="",this.titulo="Fluxo Di\xe1rio",this.series=[],this.chart={type:"bar",height:250,toolbar:{show:!1},animations:{enabled:!0}},this.xaxis={categories:[],tickAmount:6,labels:{rotate:-45}},this.yaxis={labels:{formatter:s=>Math.round(s).toString()}},this.plotOptions={bar:{borderRadius:6,columnWidth:"70%"}},this.dataLabels={enabled:!1},this.tooltip=r.R4,this.grid=r._j,this.theme=r.d6,this.colors=[r.W2[0]],this.responsive=[{breakpoint:640,options:{chart:{height:210},xaxis:{tickAmount:4},plotOptions:{bar:{columnWidth:"60%"}},grid:{strokeDashArray:4}}}],this.categoriasPendentes=[],this.valoresPendentes=[]}ngOnChanges(){const a=this.analytics.montarGraficoBarras(this.transacoes,this.filtroTodoPeriodo,this.anoMes),e=a.map(o=>o.label),s=a.map(o=>o.valor);if(this.categoriasPendentes=e,this.valoresPendentes=s,this.filtroTodoPeriodo)this.titulo="Evolu\xe7\xe3o Mensal (Total Gasto)";else{const[o,m]=(this.anoMes||"").split("-"),f=new Date(Number(o),Number(m)-1,1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});this.titulo=`Fluxo Di\xe1rio (${f})`}this.chartRef&&this.ngZone.runOutsideAngular(()=>{this.chartRef?.updateSeries([{name:"Despesas",data:s}],!0),this.chartRef?.updateOptions({xaxis:{...this.xaxis,categories:e},chart:{redrawOnParentResize:!0}},!0,!0)})}ngAfterViewInit(){const a=this.categoriasPendentes,e=this.valoresPendentes;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.chartRef?.updateSeries([{name:"Despesas",data:e}],!0),this.chartRef?.updateOptions({xaxis:{...this.xaxis,categories:a},chart:{redrawOnParentResize:!0}},!0,!0)})})}static{this.\u0275fac=function(e){return new(e||n)(t.rXU(t.SKi),t.rXU(d.v))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-grafico-fluxo-diario-apex"]],viewQuery:function(e,s){if(1&e&&t.GBs(u,5),2&e){let o;t.mGM(o=t.lsd())&&(s.chartRef=o.first)}},inputs:{transacoes:"transacoes",filtroTodoPeriodo:"filtroTodoPeriodo",anoMes:"anoMes"},standalone:!0,features:[t.OA$,t.aNF],decls:6,vars:12,consts:[["chartCmp",""],[1,"bg-slate-900/80","border","border-white/5","p-6","rounded-3xl","min-h-[320px]","sm:min-h-[360px]"],[1,"text-lg","font-bold","mb-6","flex","items-center","gap-2"],[1,"w-2","h-6","bg-pink-500","rounded-full"],[3,"series","chart","xaxis","yaxis","plotOptions","dataLabels","tooltip","grid","theme","colors","responsive"]],template:function(e,s){1&e&&(t.j41(0,"div",1)(1,"h3",2),t.nrm(2,"span",3),t.EFF(3),t.k0s(),t.nrm(4,"apx-chart",4,0),t.k0s()),2&e&&(t.R7$(3),t.SpI(" ",s.titulo," "),t.R7$(),t.Y8G("series",s.series)("chart",s.chart)("xaxis",s.xaxis)("yaxis",s.yaxis)("plotOptions",s.plotOptions)("dataLabels",s.dataLabels)("tooltip",s.tooltip)("grid",s.grid)("theme",s.theme)("colors",s.colors)("responsive",s.responsive))},dependencies:[c.MD,h.J,h.Q],encapsulation:2,changeDetection:0})}}return n})()}}]);