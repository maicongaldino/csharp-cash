"use strict";(self.webpackChunkcsharp_cash=self.webpackChunkcsharp_cash||[]).push([[686],{4686:(d,h,a)=>{a.r(h),a.d(h,{TopCategoriasApexComponent:()=>g});var c=a(177),p=a(4626),r=a(1740),t=a(4438),l=a(4090);const u=["chartCmp"];let g=(()=>{class n{constructor(i,e){this.ngZone=i,this.analytics=e,this.transacoes=[],this.topN=5,this.series=[],this.chart={type:"bar",height:260,toolbar:{show:!1}},this.xaxis={categories:[],labels:{rotate:-30}},this.plotOptions={bar:{horizontal:!0,borderRadius:6,distributed:!0}},this.colors=r.W2,this.tooltip=r.R4,this.theme=r.d6,this.grid=r._j,this.responsive=[{breakpoint:640,options:{chart:{height:210},xaxis:{tickAmount:4},grid:{strokeDashArray:4}}}]}ngOnChanges(){const i=this.analytics.gastosPorCategoria(this.transacoes,this.topN).map(o=>({nome:o.label,valor:o.valor})),e=i.map(o=>o.nome),s=i.map(o=>o.valor);this.ngZone.runOutsideAngular(()=>{this.chartRef?.updateSeries([{name:"Total",data:s}],!0),this.chartRef?.updateOptions({xaxis:{...this.xaxis,categories:e}},!0,!0)})}static{this.\u0275fac=function(e){return new(e||n)(t.rXU(t.SKi),t.rXU(l.v))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-top-categorias-apex"]],viewQuery:function(e,s){if(1&e&&t.GBs(u,5),2&e){let o;t.mGM(o=t.lsd())&&(s.chartRef=o.first)}},inputs:{transacoes:"transacoes",topN:"topN"},standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:9,consts:[["chartCmp",""],[1,"bg-slate-900/80","border","border-white/5","p-6","rounded-3xl","min-h-[320px]","sm:min-h-[360px]"],[1,"text-lg","font-bold","mb-4"],[3,"series","chart","xaxis","plotOptions","colors","tooltip","theme","grid","responsive"]],template:function(e,s){1&e&&(t.j41(0,"div",1)(1,"h3",2),t.EFF(2,"Top Categorias (M\xeas)"),t.k0s(),t.nrm(3,"apx-chart",3,0),t.k0s()),2&e&&(t.R7$(3),t.Y8G("series",s.series)("chart",s.chart)("xaxis",s.xaxis)("plotOptions",s.plotOptions)("colors",s.colors)("tooltip",s.tooltip)("theme",s.theme)("grid",s.grid)("responsive",s.responsive))},dependencies:[c.MD,p.J,p.Q],encapsulation:2,changeDetection:0})}}return n})()}}]);